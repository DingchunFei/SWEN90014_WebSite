<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Stimuli</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Minimal Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<link th:href="@{/css/bootstrap.min.css}" rel='stylesheet' type='text/css' />
	<!-- Custom Theme files -->
	<link th:href="@{/css/style.css}" rel='stylesheet' type='text/css' />
	<link th:href="@{/css/font-awesome.css}" rel="stylesheet">
	<script th:src="@{/js/jquery.min.js}"> </script>
	<script th:src="@{/js/bootstrap.min.js}"> </script>

	<!-- Mainly scripts -->
	<script th:src="@{/js/jquery.metisMenu.js}"></script>
	<script th:src="@{/js/jquery.slimscroll.min.js}"></script>
	<!-- Custom and plugin javascript -->
	<link th:href="@{/css/custom.css}" rel="stylesheet">
	<script th:src="@{/js/custom.js}"></script>
	<script th:src="@{/js/screenfull.js}"></script>
	<script>
		$(function () {
			$('#supported').text('Supported/allowed: ' + !!screenfull.enabled);
			if (!screenfull.enabled) {
				return false;
			}
			$('#toggle').click(function () {
				screenfull.toggle($('#container')[0]);
			});
		});

		$(document).ready(function(){
			var $practitionerLabel = $(document.getElementsByName("practitonerLabel")).first();		//获取最后一个email，以便再加一个
			if($practitionerLabel.html()=="" || $practitionerLabel.html()==null){		//发现为空需要贴Label Practitioner
				$practitionerLabel.html("Practitioners");
			}
		});

		$(document).ready(function(){
			var $row = $(document.getElementById("row_selector"));
			var $col = $(document.getElementById("column_selector"));

			var row_val = $row.attr("value");
			var col_val = $col.attr("value");

			$row.children("option")[row_val-1].selected=true;
			$col.children("option")[col_val-1].selected=true;

			var $num_of_trials = $(document.getElementById("numberOfTrials_selector"));
			var num_of_trials_val = $row.attr("value");
			$num_of_trials.children("option")[num_of_trials_val-1].selected=true;


		});
	</script>

	<!----->
</head>
<style>
	span.block{
		color:#fff;
		font-size: 0.8em;
		padding: 4px 7px;
		font-family: 'Muli-Regular';
	}
	span.fam{
		background:#3BB2D0;
	}
	span.fem{
		background:#e094b6;
	}
	span.you{
		background:#c4c4c4;
	}
	span.adu{
		background:#888888;
	}
	span.old{
		background:#4a4a4a;
	}
	hr{
		width: 90%;
	}
</style>
<style>
	img.shape{				/*改变图形缩放尺寸*/
		min-width: 45px;
		min-height: 45px;
		width: 5.6%;
		height: 5.6%;
	}
</style>
<body>
<div id="wrapper">
	<div th:include="Nav :: NavBar"></div>				<!--引入公共元素-->

	<div id="page-wrapper" class="gray-bg dashbard-1">
		<div class="content-main">

			<!--banner-->
			<div class="banner">
				<h2>
					<a href="/stimuli/home">Home</a>
					<i class="fa fa-angle-right"></i>
					<a href="/stimuli/home">Web App Templates</a>
					<i class="fa fa-angle-right"></i>
					<span>Web App Detail</span>
				</h2>
			</div>
			<!--//banner-->
			<!--grid-->
			<div class="grid-form">

				<div class="grid-form1">
					<div th:if="${session.userInfo.status!=0}" style="padding-right:15%; float:right;">		<!--权限判断，去除practitioner的修改权限-->
						<a th:href="@{/stimuli/edit_webApp(webApp_id=${session.webApp.getId()})}"><i style="color: #4a4a4a" class="fa fa-pencil-square-o icon_9"></i></a>
					</div>
					<h3>Web App Detail</h3>

					<div class="tab-content">
						<div class="tab-pane active" id="horizontal-form">

							<form id="newStimuli_form" class="form-horizontal" action="addNewWebApp">
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label" >Stimuli Name</label>
									<div class="col-sm-8">
										<input type="text" disabled="" class="form-control1" id="NewStimuli_Input" th:value="${session.webApp.app_name}" name="app_name">
									</div>
								</div>




								<div class="form-group">
									<label for="checkbox" class="col-sm-2 control-label">Age Group</label>
									<span class="col-sm-8">
								<span th:if="${session.webApp.age.charAt(0)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox0" type="checkbox" value="1" checked="">0-5</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(0)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox0" type="checkbox" value="1" >0-5</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(1)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox1" type="checkbox" value="2" checked="">5-10</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(1)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox1" type="checkbox" value="2" >5-10</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(2)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox2" type="checkbox" value="3" checked="">10-15</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(2)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox2" type="checkbox" value="3" >10-15</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(3)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox3" type="checkbox" value="4" checked="">15-18</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(3)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox3" type="checkbox" value="4" >15-18</label></div>
								</span>
							</span>

								</div>

								<div class="form-group">
									<label for="checkbox" class="col-sm-2 control-label"></label>
									<span class="col-sm-8">

								<span th:if="${session.webApp.age.charAt(4)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox4" type="checkbox" value="5" checked="">18-45</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(4)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox4" type="checkbox" value="5" >18-45</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(5)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox5" type="checkbox" value="6" checked="">45-60</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(5)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox5" type="checkbox" value="6" >45-60</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(6)==session.webApp.test.charAt(0)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox6" type="checkbox" value="7" checked="">60</label></div>
								</span>
								<span th:if="${session.webApp.age.charAt(6)==session.webApp.test.charAt(1)}">
									<div class="checkbox-inline col-sm-2"><label><input disabled="" name="age" id="age-checkbox6" type="checkbox" value="7" >60+</label></div>
								</span>
								<span style="visibility: hidden;" >
									<div class="checkbox-inline col-sm-2"><label><input></label></div>
								</span>

							</span>

								</div>

								<div class="form-group">
									<label for="selector1" class="col-sm-2 control-label">Numbers of Trials</label>
									<span class="col-sm-3">
								<input  disabled="" th:value="${session.webApp.numbers_of_trials}" type="text" class="form-control1" >
							</span>
								</div>


								<hr>
								<span th:each="trial : ${session.webApp.trials}">

							<div class="form-group">
								<label for="selector1" class="col-sm-2 control-label" ><h3 th:text="'Trial '+${trial.round}"></h3></label>
								<span style="margin-top: 13px;" class="col-sm-1">
									<a data-toggle="collapse" th:href="'#collapseExample'+${trial.round}" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">
										<i style="color: #7b8b71" class="fa fa-caret-down"></i>
									</a>
								</span>
							</div>


							<div class="collapse" th:id="'collapseExample'+${trial.round}">
  							<div class="card card-body">

								<div class="form-group" >
									<label for="checkbox" class="col-sm-2 control-label">Time</label>
									<span class="col-sm-3">
										<input  disabled="" th:if="${trial.timed>0}" th:value="${trial.timed}" type="text" class="form-control1"  name="timed">
										<input  disabled="" th:if="${trial.timed==0}" th:value="'No Time Limitation'" type="text" class="form-control1"  name="timed">
									</span>
								</div>

								<div class="form-group" >
									<label for="selector1" class="col-sm-2 control-label">Rows</label>
									<span class="col-sm-3">
										<input  disabled=""  th:value="${trial.grid_row}" type="text" class="form-control1"  name="grid_row">
								   </span>
									<label for="selector1" class="col-sm-2 control-label">Columns</label>
									<span class="col-sm-3">
										<input  disabled=""  th:value="${trial.grid_column}" type="text" class="form-control1"  name="grid_row">
									</span>
								</div>

								<div class="form-group" >
									<label for="selector1" class="col-sm-2 control-label">Proportion</label>

									<span class="col-sm-8" style="margin-top: 8px;">
										<div class="progress">

											<div class="progress-bar" role="progressbar" th:text="${trial.target_percentage}+'%'+' Target'" th:style="'width:' +${trial.target_percentage}+'%; background-color:#7b8b71'" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">35%</div>
											<div class="progress-bar" role="progressbar" th:text="${trial.near_distractor_percentage}+'%'+' Near Distractor'" th:style="'width:' +${trial.near_distractor_percentage}+'%; background-color:#c0c0c0'" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">30%</div>
											<div class="progress-bar" role="progressbar" th:text="${trial.far_distractor_percentage}+'%'+' Far Distractor'" th:style="'width:' +${trial.far_distractor_percentage}+'%; background-color:#788490'" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">30%</div>

										</div>
									</span>
								</div>

								<div class="form-group">
									<label for="selector1" class="col-sm-2 control-label" >Target</label>
									<span class="col-sm-10" >
										<div  style="width:79.3%;min-height:40px;padding:10px;border:3px dashed #c1ccd7; border-radius: 3px;" ondrop="drop(event)" ondragover="allowDrop(event)">
											<span th:each="trialshape : ${trial.trialShapeList}">		<!--发现是target-->
												<span th:if="${trialshape.type}==1">
													<img class="shape" th:src="'/images/'+${trialshape.shape.s_name}">
												</span>
											</span>
										</div>
									</span>
								</div>

								<div class="form-group">
									<label for="selector1" class="col-sm-2 control-label" >Near Distractor</label>
									<span class="col-sm-10" >
										<div  style="width:79.3%;min-height:40px;padding:10px;border:3px dashed #c1ccd7; border-radius: 3px;" ondrop="drop(event)" ondragover="allowDrop(event)">
											<span th:each="trialshape : ${trial.trialShapeList}">		<!--发现是target-->
												<span th:if="${trialshape.type}==2">
													<img class="shape" th:src="'/images/'+${trialshape.shape.s_name}">
												</span>
											</span>
										</div>
									</span>
								</div>

								<div class="form-group">
									<label for="selector1" class="col-sm-2 control-label" >Far Distractor</label>
									<span class="col-sm-10" >
										<div  style="width:79.3%;min-height:40px;padding:10px;border:3px dashed #c1ccd7; border-radius: 3px;" ondrop="drop(event)" ondragover="allowDrop(event)">
											<span th:each="trialshape : ${trial.trialShapeList}">		<!--发现是target-->
												<span th:if="${trialshape.type}==3">
													<img class="shape" th:src="'/images/'+${trialshape.shape.s_name}">
												</span>
											</span>
										</div>
									</span>
								</div>

							</div>
							</div>
							<hr>
						</span>


								<div class='form-group'>
									<label for="selector1" class="col-sm-2 control-label">URL</label>
									<span class="col-sm-8">
								<a target="_blank" th:href="@{${session.webApp.URL}}">
<!--									<input disabled="" type="text" class="form-control1" id="URL" name="URL" th:value="${session.webApp.URL}">-->
									<p style="padding-top: 6px;" th:text="${session.webApp.URL}">
								</a>
							</span>
								</div>


								<!--${session.userInfo.status!=0} && -->
								<div class='form-group' th:each="practitioner,practitionerStat : ${session.webApp.practitioners}" th:if="${session.userInfo.status!=0 && practitioner.user!=null}">
									<label for="focusedinput" class="col-sm-2 control-label" th:if="${practitioner.user}!=null">
										<span name="practitonerLabel" th:text="${practitionerStat.first}? Practitioners" ></span>
									</label>
									<span class="col-sm-8"  th:if="${practitioner.user}!=null">
								<input type="text" disabled="" class="form-control1" id="GrantPractitioners" th:value="${practitioner.user.email}" name="practitioner">
							</span>

								</div>

								<div class="form-group">
									<label for="txtarea1" class="col-sm-2 control-label">Notes</label>
									<div class="col-sm-8"><textarea disabled="" name="notes" id="notes_Input" cols="50" rows="4" class="form-control1" th:text="${session.webApp.notes}"></textarea></div>
								</div>
								<input style="display: none" name="id" type="text"  th:value="${session.webApp.getId()}">

							</form>

						</div>

					</div>
				</div>
			</div>
			<!--//grid-->
			<!---->
			<div class="copy">
				<div th:include="Footer :: Footer"></div>				<!--引入公共元素-->
			</div>
		</div>
		<div class="clearfix"> </div>
	</div>
	<!--scrolling js-->
	<script src="js/jquery.nicescroll.js"></script>
	<script src="js/scripts.js"></script>
	<!--//scrolling js-->
	<!---->

</body>
</html>

